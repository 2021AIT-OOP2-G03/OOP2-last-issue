<HomeScreen>:
    orientation: 'vertical'
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 1.5

            Button:
                size_hint_x: 0.2
                text: '<'
                on_press: root.pressed_left()
            FloatLayout:
                canvas:
                    Color:
                        rgba: 1,1,1,1
                    Rectangle:
                        source: root.music_image
                        pos: self.pos
                        size: self.size
            Button:
                size_hint_x: 0.2
                text: '>'
                on_press: root.pressed_right()
    
        BoxLayout:
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: 0.6
                Label:
                    text: '難易度'
                    font_name: 'ipamp.ttf'
                    font_size: 40
                ToggleButton:
                    group: 'level'
                    text: 'easy'
                    font_size: 50
                    on_press: root.pressed_level('easy')
                ToggleButton:
                    group: 'level'
                    text: 'normal'
                    font_size: 50
                    on_press: root.pressed_level('normal')
                ToggleButton:
                    group: 'level'
                    text: 'hard'
                    font_size: 50
                    on_press: root.pressed_level('hard')
        
            BoxLayout:
                orientation: 'vertical'
                Label:
                    size_hint_y: 1/3
                    text: root.music_name + ' - ' +  root.level
                    font_name: 'ipamp.ttf'
                    font_size: 40
                GridLayout:
                    rows: 3
                    cols: 2
                    Label:
                        text: '1位'
                        font_size: 50
                        font_name: 'ipamp.ttf'
                    Label:
                        text: root.first_score
                        font_size: 40
                    Label:
                        text: '2位'
                        font_size: 50
                        font_name: 'ipamp.ttf'
                    Label:
                        text: root.second_score
                        font_size: 40
                    Label:
                        text: '3位'
                        font_size: 50
                        font_name: 'ipamp.ttf'
                    Label:
                        text: root.third_score
                        font_size: 40
                    

        BoxLayout:
            size_hint_y: 0.4
            Button:
                text: 'Play'
                font_size: 50
                on_press:
                    root.select_game(root.music_name, root.level)
                    root.manager.current = 'play'
            Button:
                text: 'Quit'
                font_size: 50
                on_press: app.quit()

<PlayScreen>:
    BoxLayout:
        
        FloatLayout:
            canvas:
                Color:
                    rgba: 1,0,0.5,1
                Rectangle:
                    pos: root.width * 0,0#始まりの座標
                    size: root.width/(2),100
        
        GridLayout:
            rows: 6
            cols: 2
            Label:
                text: 'Score'
            Label:
                text: root.countscore
            Label:
                text: 'Excellent'
            Label:
                text: root.countexcellent
            Label:
                text: 'Great'
            Label:
                text: root.countgreat
            Label:
                text: 'Good'
            Label:
                text: root.countgood
            Label:
                text: 'Miss'
            Label:
                text: root.countmiss
            Button:
                text: root.text
                disabled: root.startisDisable
                on_press: root.start_game()
            Button:
                text: 'Back'
                font_size: 40
                size_hint_y: 1/3
                on_press: root.popup_open()
<PopupMenu>:
    orientation: 'vertical'

    Label:
        text: 'score:' + str(root.score)
    Label:
        text: root.result
    Button:
        text: 'Go to Home'
        on_press: root.popup_close()
